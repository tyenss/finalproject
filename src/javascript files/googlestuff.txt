function myMap()
{

    navigator.geolocation.getCurrentPosition(function(position)
    {
        let mapProp=
            {
                center:new google.maps.LatLng(position.coords.latitude,position.coords.longitude),
                zoom:10,
            };
        window.bigMap=new google.maps.Map(document.getElementById("googleMap"),mapProp);
        let directionsDisplay = new google.maps.DirectionsRenderer();
        directionsDisplay.setMap(bigMap);
        getLocation();
        mapDirection("Burlington, NC", directionsDisplay);
    });
}
function getLocation()
{
    if (navigator.geolocation) {
        position();

        //window.alert("asdfas" +pos.lat);
        //navigator.geolocation.getCurrentPosition(showPosition);
    } else {
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
}

function showPosition(position) {
    window.alert(position.coords.latitude +"    "+ position.coords.longitude);
}


function mapDirection(destination,directionsDisplay)
{
    let directionsService = new google.maps.DirectionsService();
    navigator.geolocation.getCurrentPosition(function(position)
    {
        let request= {
            origin: "chapel hill",
            destination: destination,//geocoding(destination),
            travelMode:'DRIVING'
        };
        //alert(request.destination.toString());
        directionsService.route(request,function(result,status)
        {
            alert(status);
            if (status == 'OK') {
                //alert(response.);
                directionsDisplay.setDirections(result);
            } else {
                window.alert(status.toString());
            }
        });
    });
}

function geocoding(address)
{
    let geocoder=new google.maps.Geocoder();
    geocoder.geocode({ 'address': address}, function(results, status)
    {
        //alert(status);
        if (status == 'OK')
        {
            //alert(results[0].geometry.location);
            return(results[0].geometry.location);
            //return [results[0].geometry.location.lat,results[0].geometry.location.lng];
        }
    })
}

function position()
{
    navigator.geolocation.getCurrentPosition(function(position)
    {
        let pos= {
            lat: position.coords.latitude,
            lng: position.coords.longitude
        };
        let marker = new google.maps.Marker({
            position: pos,
            map: bigMap,
            title: 'Hello World!'
        });
    });
}